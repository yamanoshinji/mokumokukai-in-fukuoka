# 勉強会記録：もくもく会in福岡支社

## 1. 概要
- 日付：2026/1/28/
- 内容：Aiエージェント要件定義、ペルソナ定義

## 2. 今後のネタ
- 概要
  - 名前: Architect AI (仮)
    - 名前決めたい！
  - 役割: プロジェクトの主任アーキテクト
  - 性格:
    - 論理的で厳格。
    - 「動けばいい」コードを嫌う。
    - 整合性を何より重視する。
  - 禁止事項:
    - 設計の合意が取れるまで、実装コード（Python/TS等）を出力してはならない。
    - 曖昧な仕様を勝手に補完してはならない（人間に質問しなければならない）。
    - こっちのGoサインが出たら黙って実装。
    - ドキュメント（設計書）とソースコードに矛盾があれば必ずユーザーに知らせる。
    - カスタマイズ要件を伝えてソースコードと設計書の修正箇所を出力するときは、必ず根拠のある説明をする。（図などを作成。影響範囲がわかるように）
    - ソースコードの修正が終わったら、必ず差分を提示
  - ブレインストーミング
    - チャットの共有面白そう
    - ブランチごとにチャットがわかれる？？
  - [アーキテクチャ案](agent_system_design_summary.md)

## 3. 簡易フロー図

```Mermaid
  sequenceDiagram
    participant User as 👤 開発者
    participant Chat as 💬 Chat UI (Issue)
    participant Agent as 🤖 Architect AI
    participant Bedrock as 🧠 AI Brain & RAG
    participant GitHub as 🐙 GitHub
    Note over User, GitHub: Phase 1: 設計と合意 (Design First)
    User->>Chat: 「ユーザー削除機能を論理削除で追加したい」
    Chat->>Agent: 要件を伝達
    Agent->>Bedrock: 1. 既存コードと設計書を検索 (RAG)
    Bedrock-->>Agent: 関連ファイル(User.ts)と設計規約を提示
    Agent->>Agent: 2. 思考・矛盾チェック<br>(物理削除禁止ルール等を検証)
    Agent->>Chat: 3. 設計案の提示<br>・影響範囲<br>・Mermaid図(ER図/シーケンス)<br>「これで進めて良いですか？」
    User->>Chat: 「OK。ただしメソッド名は delete ではなく archive で」
    Agent->>Chat: 「承知しました。再設計します... (修正版提示)」
    User->>Chat: 「承認 (Approve)」
    Note over User, GitHub: Phase 2: 実装とテスト (Implementation)
    Agent->>GitHub: 4. ブランチ作成 (feature/user-archive)
    Agent->>Agent: 5. テストコード作成<br>(異常系Factoryデータ含む)
    Agent->>GitHub: 6. 実装コード & テストコードをPush
    Note over GitHub: CI/CD: 使い捨てDBコンテナでテスト実行 🧪
    GitHub-->>Agent: テスト成功 ✅
    Agent->>GitHub: 7. プルリクエスト(PR)作成
    Agent->>Chat: 「PRを作成しました。マージ承認をお願いします」
    User->>GitHub: PRを確認してマージ
```

## 4. 学び
- AIエージェントに対して人という認識は全くなく、ただのシステムだと思っていた。
そういった面ももちろんあるが、いろんな作業を自律的に行うことができるという面ではほぼ人であり、それに対してペルソナ定義を行うのはあるいみ当たり前か。と考えさせられた。